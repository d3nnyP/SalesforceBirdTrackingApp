<template>
    <lightning-card title={birdTitle} icon-name="utility:work_forecast" >
        <!-- Show bird name and species code from the Bird record -->
        <div class="slds-var-p-around_medium">
            <h4><strong>Recent Observations Of:</strong> {birdName}</h4>
        </div>

        <!-- Display recent bird observations when available -->
        <template lwc:if={birdData}>
            <div class="slds-var-p-around_medium">
                <ul class="slds-list_dotted">
                    <template for:each={birdData} for:item="observation">
                        <li key={observation.id}>
                            <p><lightning-icon icon-name="utility:checkin" alternative-text="Map" title="Map" size="x-small"></lightning-icon><strong>Location:</strong> {observation.locName}</p>
                            <div class="slds-border_bottom" ><p><lightning-icon icon-name="utility:date_input" alternative-text="Calendar" title="Calendar" size="x-small"></lightning-icon><strong>Observation Date:</strong> {observation.obsDt}</p></div>
                            <br />
                        </li>
                    </template>
                </ul>
            </div>
        </template>

        <!-- Show a message when no recent bird observations are available -->
        <template lwc:else>
            <div class="slds-p-around_medium">
                <p>No recent bird observations found for the specified species.</p>
            </div>
        </template>

        <!-- Center the fetch and clear buttons -->
        <div class="slds-text-align_center slds-p-top_medium">
            <!-- Call the handleButtonClick method when the "Get Recent Observations" button is clicked -->
            <lightning-button variant="brand" label="Get Recent Observations" onclick={handleButtonClick} class="slds-m-left_x-small"></lightning-button>

            <!-- Call the handleClear method when the "Clear" button is clicked -->
            <lightning-button variant="destructive" label="Clear" onclick={handleClear} class="slds-m-left_x-small"></lightning-button>
        </div>
    </lightning-card>
</template>
